<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
<meta name="description" content="description"/>
<meta name="keywords" content="recipe, cb2cb"/> 
<meta name="author" content="Created by cb2cb"/> 
<link rel="stylesheet" type="text/css" href="bitter-sweet/default.css" media="screen"/>
<title>${recipe.title.toHtml()}</title>
</head>

<body>

<div class="container">

	<div class="top">
		<a href="$index"><span>${recipe.title.toHtml()}</span></a>
	</div>
	
	<div class="header"></div>
		
	<div class="main">

<% // ------ Photo ---------
if (recipe.images?.size()>0) { %>
		<div class="item">
			<div class="date"></div>
			<div class="content">
				<h1>Photo</h1>
				<div class="body">
				    <img class="photo" src="${imageName}"/>
				</div>
		  </div>
    </div>
<%}%>



		<div class="item">

			<div class="date"></div>

			<div class="content">

				<h1>Ingredients</h1>

				<div class="body">
				
<% // ------ INGREDIENTS ---------
if (recipe.ingredients) { %>
<p class="ingredients">
<% for (def ingr : recipe.ingredients) {
 %>
<% if (ingr.hasAmount()) {%>
  <span class="ingredientAmount">${ingr.amount.formatNumber()}</span>
<%}%>
<% if (ingr.hasUnit()) {
  def unit = (ingr.hasAmount() && ingr.amount > 1) ? ingr.unit.pluralize() : ingr.unit.name
%>
  <span class="ingredientUnit">${unit.toHtml()}</span>
<%}%>
<% if (ingr.hasIngredient()) {%>
  <span class="ingredientName">${ingr.ingredient.name.toHtml()}</span>
<%}%>
<% if (ingr.hasProcessing()) {%>
  <span class="ingredientPreparations"> -- ${ingr.processing.toHtml()}</span>
<%}%>
<br/>
<%}%>
</div>
<%} %>               				  

				</p>

			</div>

		</div>
		
		<div class="item">
			<div class="date"></div>
			<div class="content">
				<h1>Directions</h1>
				<div class="body">

<% // ------ DIRECTIONS ---------
if (recipe.directions) {%>
<div class="directions">
<% for (def step : recipe.directions) {%>
<p class="directionStep">${step.toHtml().replace("\n", "<br/>")}</p>
<%} %>
</div>
<%} %>
 
<% // ------ NOTES ---------
if (recipe.note) { %>
<div class="notes">
${recipe.note.toHtml().replace("\n", "<br/>")}
</div>
<%} %>

<hr/>
      </div>
      </div>
			
		</div class="item">

		<div class="item">
			<div class="date"></div>
			<div class="content">
				<h1>Download</h1>
				<div class="body">
				  <p>
				  Download the recipe <a href="${downloadName}">here</a>.
          </p> 
				</div>
		  </div>
    </div>




	</div>

	<div class="navigation">

		<h1>Navigation</h1>
		<ul>
			<li><a href="$index">Home</a></li>
<% if (nextLink != null) { %>
			<li><a href="${nextLink}">Next</a></li>
<% } %>
<% if (prevLink != null) { %>
			<li><a href="${prevLink}">Previous</a></li>
<% } %>
		</ul>

<% // Any yield/serves at all?
if (recipe.servings > 0 || recipe.yield.length() > 0) { %>
		<h1>Yield</h1>
		<ul>
<% // ------ Yield ---------
if (recipe.yield.length()> 0) { %>
<li class="yield">
  <span class="yieldLabel label">Yield: </span>
  <span class="yieldValue value">${recipe.yield.toHtml()}</span>
</li>
<%} %>
<% // ------ Serves ---------
if (recipe.servings > 0) { %>
<li class="servings">
  <span class="servingsLabel label">Serves: </span>
  <span class="servingsValue value">${recipe.servings}</span>
</li>
<%} %>
</ul>
<%} %>



<% // Any time at all?
if (recipe.preparationTime > 0 || recipe.totalTime > 0 || recipe.cookTime>0) { %>
		<h1>Time</h1>
		<ul>
<% // ------ PREPARATION TIME ---------
if (recipe.preparationTime > 0) { %>
<li class="preptime">
  <span class="preptimeLabel label">Preparation time: </span>
  <span class="preptimeValue value">${recipe.preparationTime} minutes</span>
</li>
<%} %>
<% // ------ COOK TIME ---------
if (recipe.cookTime > 0) { %>
<li class="cooktime">
  <span class="cooktimeLabel label">Cooking time: </span>
  <span class="cooktimeValue value">${recipe.cookTime} minutes</span>
</li>
<%} %>
<% // ------ TOTAL TIME ---------
if (recipe.totalTime > 0) { %>
<li class="totaltime">
  <span class="totaltimeLabel label">Total time: </span>
  <span class="totaltimeValue value">${recipe.totalTime} minutes</span>
</li>
<%} %>
<% // ------ ALT TIME ---------
			for(String key : recipe.getTimes().keySet()) {
				if (! key.startsWith("TIME.")) {
%>
				<li class="alttime">
          <span class="alttimeLabel label">${key}: </span>
          <span class="alttimeValue value">${recipe.getTime(key)}</span>
        </li>
<%
				}
			}
%>

<%} %>


<% // Any Source at all?
if (recipe.source || recipe.author || recipe.copyright || recipe.altSourceLabel) { %>
		<h1>Source</h1>
		<ul>
<% // ------ SOURCE ---------
if (recipe.source) { %>
<li class="source">
  <span class="sourceLabel label">Source: </span>
  <span class="sourceValue value">${recipe.source.toHtml()}</span>
</li>
<%} %>
<% // ------ AUTHOR ---------
if (recipe.author) { %>
<li class="author">
  <span class="authorLabel label">Author: </span>
  <span class="authorValue value">${recipe.author.toHtml()}</span>
</li>
<%} %>
<% // ------ COPYRIGHT ---------
if (recipe.copyright) { %>
<li class="copyright">
  <span class="copyrightLabel label">Copyright: </span>
  <span class="copyrightValue value">${recipe.copyright.toHtml()}</span>
</li>
<%} %>
<% // ------ ALT SOURCE ---------
if (recipe.altSourceLabel) { %>
<li class="copyright">
  <span class="altSourceLabel label">${recipe.altSourceLabel.toHtml()}: </span>
  <span class="altSourceValue value">${recipe.altSourceText.toHtml()}</span>
</li>
<%} %> 		
		</ul>
<%} %> 		

<% // Any categories at all?
if (recipe.categories || recipe.cuisine || recipe.ratings) { %>
		<h1>Categories</h1>
		<ul>
<% // ------ CATEGORIES ---------
if (recipe.categories) { %>
<li class="categories">
  <span class="catLabel label">Categories: </span>
  <span class="catValue value">${recipe.getCategoriesAsString().replace(';', ',').toHtml()}</span>
</li>
<%} %>
<% // ------ CUISINE ---------
if (recipe.cuisine) { %>
<li class="cuisine">
  <span class="cuisineLabel label">Cuisine: </span>
  <span class="cuisineValue value">${recipe.cuisine.toHtml()}</span>
</li>
<%} %> 		
<% // ------ RATINGS ---------
if (recipe.ratings) { %>
<div class="ratingHeader label">Ratings:</div>
<% recipe.ratings.each { key, value -> %>
  <li class="ratings">
    <span class="ratingLabel label">$key: </span>
    <span class="ratingValue value">$value</span>
  </li>
<%} %>
<%} %> 		
    
    </ul>
<%} %> 		


	</div>
	
	<div class="clearer"><span></span></div>

	<div class="footer">
		<span class="left">Made with <a href="http://recipetools.sourceforge.net/joomla15">cb2cb</a>. Valid <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a> &amp; <a href="http://validator.w3.org/check?uri=referer">XHTML</a></span>
		
		<span class="right"><a href="http://templates.arcsin.se/">Website template</a> by <a href="http://arcsin.se/">Arcsin</a></span>

		<div class="clearer"><span></span></div>
	</div>

</div>

</body>

</html>