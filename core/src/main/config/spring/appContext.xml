<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

    <bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource" singleton="true">
        <property name="driverClassName" value="org.hsqldb.jdbcDriver" />
        <property name="url" value="jdbc:hsqldb:file:C:/pr/projecter/java/GetSite/getsite/db/proxy.db" />
        <property name="username" value="sa" />
        <property name="password" value="" />
    </bean>

    <bean id="sessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean" singleton="true">
        <property name="dataSource" ref="dataSource"/>
  		<property name="configLocation">
    		<value>classpath:hibernate.cfg.xml</value>
  		</property>
  		<property  name="configurationClass">
    		<value>org.hibernate.cfg.AnnotationConfiguration</value>
  		</property>  
		<property name="exposeTransactionAwareSessionFactory" value="false"/>
    </bean>

    <bean id="proxyDao" class="getsite.dao.ProxyDao">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>

	<bean id="mainWindow" class="getsite.gui.MainWindow">
		<property name="cookieModel" ref="cookieModel" />
		<property name="jobModel" ref="jobModel" />
		<property name="jobScheduler" ref="jobScheduler" />
		<property name="proxySiteModel" ref="proxySiteModel" />
	</bean>

	<bean id="sitesImporting" class="getsite.importing.Sites">
		<property name="proxyDao" ref="proxyDao" />
	</bean>

	<bean id="proxyImporting" class="getsite.importing.Proxies">
		<property name="proxyDao" ref="proxyDao" />
	</bean>

	<bean id="cookieModel" class="getsite.model.CookieModel" />

	<bean id="jobScheduler" class="getsite.job.JobScheduler">
		<property name="jobModel" ref="jobModel" />
	</bean>

	<bean id="jobModel" class="getsite.model.JobModel" />

	<bean id="proxySiteModel" class="getsite.model.ProxySiteModel" init-method="init">
		<property name="proxyDao" ref="proxyDao" />
	</bean>


</beans>